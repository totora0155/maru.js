/*!
 * Copyright 2016, nju33
 * Released under the MIT License
 * https://github.com/totora0155/maru.js
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Maru=e()}(this,function(){"use strict";
// var box;
function t(t){if(this.el=el,this.opts={timeout:200},this._cache={},this._event,t.timeout){if("number"==typeof t.timeout)throw Error("`timeout` must be an integer");this.opts.timeout=t.timeout}}function e(t){
// TODO: user customize
t.style.cssText="position:fixed;right:50%;bottom:50%;-webkit-transform:translate(50%,50%);transform:translate(50%,50%);transition: opaicty .2s linear"}
// function init() {
//   box = document.createElement('div');
//   box.className = 'maru__box';
//   injectStyle();
// }
function i(t){t.style.opacity=1}function n(t){requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,0)}var o={ID:"data-maru-id"};
// function injectStyle() {
//   var style = document.createElement('style');
//   var css = '';
//   style.innerText = css;
//   document.head.insertBefore(style, document.head.children[0]);
// }
return maru.prototype.regist=function(t){this._.event=t},maru.prototype.open=function(t){var r=t.currentTarget,s=r.getAttribute(o.ID),u=null;if(this._cache[s])u=this._cache[s];else{if(u=document.getElementById(s),!u)throw Error(u+" is undefined");e(u)}u.style.display="block",this._event&&"object"==typeof this._event&&Object.keys(this._event).forEach(function(t){try{var e=document.getElementById(t),i=this._event[t].action,n=this._event[t].handle;e.addEventListener(i,n,!1)}catch(o){throw Error(o)}}),n(function(){move(this.el),i(this.el)}.bind(this))},menu.prototype.close=function(){this._event&&"object"==typeof this._event&&Object.keys(this._event).forEach(function(t){try{var e=document.getElementById(t),i=this._event[t].action,n=this._event[t].handle;e.removeEventListener(i,n,!1)}catch(o){throw Error(o)}}),setTimeout(function(){this.el.style.display="none"}.bind(thid),this.opts.timeout)},t});